[**Variable distribution and details ðŸ”—**](variable_exploration.html#{{var}})

|                    |                                                       |
|--------------------|-------------------------------------------------------|
| Error RMSE         | `r site_stat${{var}}_err_rmse %>% round(2)` {{unit}}  |


```{r {{var}}_err_dist_plot, fig.err = "Distribution of error between Measurement and ERA"}
site %>%
  ggplot(aes({{var}}_err)) +
  geom_histogram(bins = 30, colour = "white")
```
```{r, {{var}}_plot_scatter, fig.cap="{{var}} Measured vs ERA Downscaling using density plots."}
site %>%
    ggplot(aes_string(x = "{{var}}", y = "{{var}}_ERA")) +
    geom_hex(bins = 30) +
    labs(x = "Measured {{var}} [{{unit}}]", y = "ERA Downscaling {{var}} [{{unit}}]") +
    scico::scale_fill_scico(palette = "vik")
```

```{r}
set.seed(103) # ensure always the same sample is taken
{{var}}_timeseries <-  tibble(
    sample = paste0("#", seq(1,4)),
    data = map(sample, ~to_fixed_gap_length(site, site, len = 5*24*2))
) %>%
    unnest(data)

{{var}}_timeseries %>%
    ggplot(aes(TIMESTAMP_END)) +
    geom_line(aes(y = {{var}}, colour = "measured")) +
    geom_line(aes(y = {{var}}_ERA, colour = "filled"), na.rm = TRUE) +
    #geom_point(aes(y = {{var}}_f, colour = "filled"), na.rm = TRUE) +
    labs(colour = "Type", y = "{{var}} [{{unit}}]") +
    scale_colour_manual(values = ggthemes::colorblind_pal()(2)[c(2,1)]) +
    theme(legend.position = "bottom") +
    facet_wrap( ~sample, scales = "free_x")
```
